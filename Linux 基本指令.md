## Linux 基本指令

接触Linux意味着，我们将告别图形界面的点击操作，使用指令进行操作。Linux有丰富的操作指令，并且可以进行组合使用。本文主要介绍常用的Linux操作指令。

Linux基本指令格式为：命令 [选项] \[参数]

选项的作用是调整命令的功能，加入选项后可以显示更丰富的数据。参数是命令的操作对象，一般文件、目录、用户和进程等可以作为参数被命令操作。

有一些指令不加选项或者参数也可以执行。命令之后不加选项和参数也可以执行，不过只能执行最基本的功能。

本文指令只列出部分常用选项，更多选项可以自己查询。

### 1. ls 指令

**功能描述**：`ls` (list) 是最常见的目录操作命令，主要作用是显示目录下的内容。

~~~c
命令格式：ls [选项] [文件名或目录名]
~~~

**常用选项**：

>- -a：显示所有文件，包括以 . 开头的隐含文件；
>- --color=when：支持颜色输出，when 的值默认是 always（总显示颜色），也可以是 never（从不显示颜色）和 auto（自动）；
>- -d：显示目录信息，而不是目录下的文件；例：`ls -d 指定目录`
>- -h：人性化显示，按照我们习惯的单位显示文件大小；
>- -i：显示文件的 i 节点号；
>- -l：长格式显示，列出文件的详细信息；
>- -F 在每个文件名后附上一个字符以说明该文件的类型，“*”表示可执行的普通文件；“/”表示目录；“@”表示符号链接；“|”表示FIFOs；“=”表示套接字(sockets)。（目录类型识别）



### 2. pwd 指令

**功能描述**：`pwd` 显示用户当前所在的目录。

**常用选项**：无选项。



### 3. cd 指令

**功能描述**：`cd`(change directory) 是切换当前所在目录。

~~~c
命令格式：cd [选项] [目录名]
~~~

**常用选项**：

​	cd 命令是非常简单的命令，仅有的两个选项 -P 和 -L 的作用非常有限，很少使用。

>* -P：是指如果切换的目录是软链接目录，则进入其原始的物理目录，而不是进入软链接目录；
>* -L：是指如果切换的目录是软链接目录，则直接进入软链接目录。

**常见用法**：

> * 基本用法：cd 命令切换目录只需在命令后加目录名称即可。
>
> * 简化用法：cd 命令可以识别一些特殊符号，用于决速切换所在目录。
>
>   | 特殊符号 |        作用        |
>   | :------: | :----------------: |
>   |    ~     |  代表用户的家目录  |
>   |    -     | 代表返回上一个目录 |
>   |    .     |    代表当前目录    |
>   |    ..    |   代表上一级目录   |



### 4. mkdir 指令

**功能描述**：`mkdir`(make directories) 在当前目录下创建新的目录。

~~~c++
命令格式：mkdir [选项] [目录名]
~~~

**常用选项**：

>* -p：递归建立新目录。

说明：所谓的递归建立新目录，就是创建一个新目录，在该新目录下继续创建一个新目录。



### 5. rmdir 指令

**功能描述**：`rmdir`(remove empty directories) 删除空目录。

~~~c
命令格式：rmdir [选项] [空目录]
~~~

**常用选项**：

> * -p：递归删除空目录。

**说明**：`rmdir`只能用来删除空目录，目录中有内容就无法删除。删除目录只需要在其后加目录名即可，`mkdir`可以递归建立目录，`rmdir`可以递归删除目录。

此命令作用不大，我们一般采用`rm`命令去删除文件或者目录。



### 6. rm 指令

**功能描述**：rm(remove files or directories) 是强大的删除命令，不仅可以删除文件，也可以删除目录。

~~~c
命令格式：rm [选项] [目录或者文件]
~~~

**常用选项**：

> * -f：强制删除（force）,写保护文件也将被删除；
> * -i：交互删除，在删除之前会询问用户；
> * -r：递归删除，可以删除目录（recursive）。

**说明**：rm 命令如果任何选项都不加，则默认执行的是`rm -i 文件名`，也就是在删除一个文件之前会先询问是否删除。如果需要删除目录，则需要使用`-r`选项。执行`rm -ir 目录名`，删除之前会提示。在真正删除文件的时候，我们会选择强制删除。加入了强制功能之后，删除就会变得很简单，但是需要注意，数据强制删除之后无法恢复。虽然`-rf`选项是用来删除目录的，但是删除文件也不会报错。所以，为了使用方便，一般不论是删除文件还是删除目录，都会直接使用`-rf`选项。

**注意**：选项是可以组合的。



### 7. touch 指令

**功能描述**：`touch`(change file timestamps) 的意思是触摸，当文件不存在时，创建一个新的文件；当文件存在时，会改变文件的时间戳（访问时间、数据修改时间、状态修改时间都会改变）。

注：括号中的英文为英文原意。

~~~c
命令格式：touch [选项] [文件名]
~~~

**常用选项**：

> * -a：只修改文件的访问时间（Access Time)；
> * -c：如果文件不存在，则不建立新文件；
> * -d：把文件的时间改为指定的时间；
> * -m：只修改文件的数据修改时间（Modify Time）；
> * -r ：把指定文档或目录的日期时间，统统设成和参考文档或目录的日期时间相同；
> * -t ：使用指定的日期时间，而非现在的时间。

**说明**： `Linux` 中的每个文件都有三个时间，分别是访问时间（Access Time）、数据修改时间（Modify Time）和状态修改时间（Change Time）。这三个时间可以通过 `stat` 命令来进行査看。

`touch` 命令只能手工指定只修改访问时间，或是只修改数据修改时间，而不能指定只修改状态修改时间。因为不论是修改访问时间，还是修改文件的数据时间，对文件来讲，状态都会发生改变，即状态修改时间会随之改变。  



### 8. stat 指令

**功能描述**：`stat`(display file or file system status) 用来显示文件或文件系统的详细信息。

~~~c
命令格式：stat [选项] [文件名或者目录名]
~~~

**常用选项**：

> - -f：査看文件所在的文件系统信息，而不是査看文件的信息。



### 9. man 指令

**功能描述**：`man`(format and display the on-line manual pages)显示联机帮助手册。

~~~c
命令格式：man [选项] [命令]
~~~

**常用选项**：

> - -f：査看命令拥有哪个级别的帮助；
> - -k: 査看和命令相关的所有帮助。

**man命令信息快捷键**：

| 快捷键  | 作 用                                                        |
| :-----: | ------------------------------------------------------------ |
| 上箭头  | 向上移动一行                                                 |
| 下箭头  | 向下移动一行                                                 |
|  PgUp   | 向上翻一页                                                   |
|  PgDn   | 向下翻一页                                                   |
|    g    | 移动到第一页                                                 |
|    G    | 移动到最后一页                                               |
|    q    | 退出                                                         |
| /字符串 | 从当前页向下搜索字符串                                       |
| ?字符串 | 从当前页向上搜索字符串                                       |
|    n    | 当搜索字符串时，可以使用n键找到下一个字符串                  |
|    N    | 当搜索字符串时，使用N键反向查询字符串。也就是说，如果使用“/字符串”方式搜索， 则N键表示向上搜索字符串；如果使用“?字符串”方式搜索，则N键表示向下搜索字符串 |

### 10. cp 指令

**功能描述**：`cp`(copy files and directories) 用来复制文件和目录。

~~~c
命令格式：cp [选项] [源文件或目录] [目标文件或目录]
~~~

**常用选项**：

> - -a：相当于 -d、-p、-r 选项的集合；
> - -d：如果源文件为软链接（对硬链接无效），则复制出的目标文件也为软链接；
> - -i：询问，如果目标文件已经存在，则会询问是否覆盖；
> - -l：把目标文件建立为源文件的硬链接文件，而不是复制源文件；
> - -s：把目标文件建立为源文件的软链接文件，而不是复制源文件；
> - -p：复制后目标文件保留源文件的属性（包括所有者、所属组、权限和时间）；
> - -r：递归复制，用于复制目录。

**说明**： cp指令用于复制文件或目录，如同时指定两个以上的文件或目录，且最后的目的地是一个已经存在的目录，则它会把前面指定的所有文件或目录复制到此目录中。若同时指定多个文件或目录，而最后的目的地并非一个已存在的目录，则会出现错误信息。若已存在，则会被覆盖。

### 11. mv 指令

**功能描述**：`mv`(move(rename)files) 相当于剪切，将文件移动到新的位置或者将此文件改名。

~~~
命令格式：mv [选项] [源文件或目录] [目标文件或目录]
~~~

**常用选项**：

> - -f：强制覆盖，如果目标文件已经存在，则不询问，直接强制覆盖；
> - -i：交互移动，如果目标文件已经存在，则询问用户是否覆盖（默认选项）；
> - -n：如果目标文件已经存在，则不会覆盖移动，而且不询问用户；
> - -v：显示详细信息。

**说明**：

 	1. 视mv命令中第二个参数类型的不同（是目标文件还是目标目录），mv命令将文件重命名或将其移至一个新的目录中。
 	2. 当第二个参数类型是文件时，mv命令完成文件重命名，此时，源文件只能有一个（也可以是源目录名），它将所给的源文件或目录重命名为给定的目标文件名。
 	3. 当第二个参数是已存在的目录名称时，源文件或目录参数可以有多个，mv命令将各参数指定的源文件均移至目标目录中。



### 12. cat 指令

**功能描述**：`cat`(concatenate files and print on the standard output) 查看目标文件内容。

~~~c
命令格式：cat [选项] [文件]
~~~

**常用选项**：

> - -A：相当于 -vET 选项的整合，用于列出所有隐藏符号；
> - -E：列出每行结尾的回车符 $；
> - -n：显示行号；
> - -T：把 Tab 键 ^I 显示出来；
> - -V：列出特殊字符；
> - -b 对非空输出行编号；
> - -s 不输出多行空行。

**说明**：`cat` 命令用于査看文件内容，不论文件内容有多少，都会一次性显示。如果文件非常大，那么文件开头的内容就看不到了。不过可以使用`PgUp+上箭头`组合键向上翻页，但是这种翻页是有极限的，如果文件足够长，那么还是无法看全文件的内容。



### 13. more 指令

**功能描述**：more(file perusal filter for crt viewin) 是用来分屏显示文件内容。

~~~c
命令格式：more [选项] [文件名]
~~~

**常用选项**：

> * -n：对输出的所有行编号。

**说明**：more 命令比较简单，内容非常多时，命令会打开一个交互界面，可以识别一些交互命令。常用的交互命令如下。

- 空格键：向下翻页。
- b：向上翻页。
- 回车键：向下滚动一行。
- / 字符串：搜索指定的字符串。
- q：退出。

